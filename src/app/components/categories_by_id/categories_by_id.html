<div class="loading-container" *ngIf="loading()">
  <div class="spinner"></div>
  <p>Cargando productos...</p>
</div>

<section class="categories__grid product-grid" *ngIf="!loading()">

  @for (product of productos(); track product.codigo_producto) {

    <div class="categories__item product-card">

      <div class="product__image-container">
        <img
          src="assets/img/no-image.jpg"
          alt="{{ product.Producto }}"
          class="categories__image"
          width="300"
          height="300"
        />

        <div class="categories__quick-view-wrapper">
          <button
            class="categories__button categories__button--quick-view"
            (click)="openQuickView(product.codigo_producto)">
            Vista Rápida
          </button>
        </div>
      </div>

      <div class="card-content">
        <span class="categories__label">{{ product.Producto }}</span>
        <p class="categories__price">MXN {{ product.fldPrecio }}</p>
        <small class="categories__brand">{{ product.fldMarca }}</small>
      </div>

      <div class="card-actions">
        <button
          class="categories__button categories__button--full-width primary-btn"
          (click)="addToCart(product)">
          Añadir al carrito
        </button>
      </div>

    </div>

  } @empty {

    <div class="categories__item full-width-item">
      <p>No se encontraron productos disponibles en esta categoría.</p>
    </div>

  }

</section>
